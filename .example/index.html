<!doctype html>
<html>
<head>
	<meta charset='utf8'>
	<meta name='viewport' content='width=device-width'>

	<title>Svelte Transcription Player</title>

	<link rel='icon' type='image/png' href='favicon.png'>
	<link rel='stylesheet' href='global.css'>
	<script src='../index.js'></script>
	
</head>
<style>
</style>
<body>
    <script>
		document.addEventListener("DOMContentLoaded", function (event) {
			const target = document.getElementById("my-component");
			const audio = target.dataset.audio;
			const transcription = target.dataset.transcription;
	
			var tp = new TranscriptionPlayer({
				target: target,
				props: {
					audio: audio,
					transcription: transcription,
					onEdited: (transcription, approve, decline) => {
						setTimeout((Math.random() < 0.5 ? approve : approve), 1000 + Math.random() * 2000)
					},
					fontConfigurable: true,
					autoplayConfigurable: true,
					autoscrollConfigurable: true,
					importEnabled: true,
					exportEnabled: true,
				},
			});
        });
	</script>
	
	<div id="my-component"
		data-audio="./demo1.mp3"
		data-transcription="./demo1.json">
	</div>

</body>
</html>