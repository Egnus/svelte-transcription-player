<!doctype html>
<html>
<head>
	<meta charset='utf8'>
	<meta name='viewport' content='width=device-width'>

	<title>Svelte Transcription Player</title>

	<link rel='icon' type='image/png' href='favicon.png'>
	<link rel='stylesheet' href='global.css'>
	<!-- <link rel='stylesheet' href='index.css'> -->
	<script src='../index.js'></script>
	<!-- <script src='https://svelte-transcription-player.gstefanic.vercel.app'></script> -->
	<!-- <script src="https://sive.serveousercontent.com/target/target-script-min.js#anonymous"></script> -->
	
</head>
<style>
	#my-component {
		/* max-height: 50vh; */
	}
</style>
<body>
	<div id="my-component"
		data-audio="./demo.mp3"
		data-transcription="./demo.json">
	</div>

    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
			const target = document.getElementById("my-component");
			const audio = target.dataset.audio;
			const transcription = target.dataset.transcription;

			var tp = new TranscriptionPlayer({
				target: target,
				props: {
					audio: audio,
					transcription: transcription,
					onEdited: (transcription, approve, decline) => {
						console.log();
						setTimeout((Math.random() < 0.5 ? approve : approve), 1000 + Math.random() * 2000)
					},
					fontConfigurable: true,
					autoplayConfigurable: true,
					autoscrollConfigurable: true,
				},
			});

			console.log(tp);
        });
    </script>
</body>
</html>